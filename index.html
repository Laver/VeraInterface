<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Vera UI Data Test</title>
        <link rel="stylesheet" href="css/main.css" type="text/css"/>
        
    </head>
    
    <body>
        
        <script type="text/x-handlebars" data-template-name="application">
            <h2 id="status">{{status}}</h2>
            <div>
                <button {{action "reloadData" }}>Reload</button>
                <button {{action "listRooms" }}>List Rooms!</button>
                <button {{action "listDevices" }}>List Devices!</button>
            </div>
            
            <div id="content">{{outlet}}</div>
            
        </script>
        
        
        <script type="text/x-handlebars" data-template-name="room-list">
        Rooms:
            <ul>
                {{#each room in controller}}
                    {{#with room}}
                        <li>
                            Name: <strong>{{name}}</strong>
                            ID: {{id}}
                        </li>
                    {{/with}}
                {{/each}}
            </ul>
        </script>
        <script type="text/x-handlebars" data-template-name="device-list">
        Devices:
            <ul>
                {{#each device in controller}}
                    <li>
                        Name: <strong>{{device.name}}</strong>
                        ID: {{device.id}}</br>
                        Status: {{device.status}}</br>
                        {{#if device.currentLevel}}
                            Current Level: {{device.currentLevel}}</br>
                            {{#unless device.isAtTarget}}
                                Target Level: {{device.targetLevel}}</br>
                            {{/unless}}
                        {{/if}}
                    </li>
                {{/each}}
            </ul>
        </script>
        
        <!-- load scripts at the bottom of your page -->
        <script src="scripts/lib/jquery.min.js"></script>
        <script src="scripts/lib/handlebars.js"></script>
        <script src="scripts/lib/ember.min.js"></script>
        <script src="scripts/app.js"></script>
    </body>
</html>